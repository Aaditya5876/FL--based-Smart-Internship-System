flowchart LR
    A[Raw Text: titles, skills] --> B[Normalizer - alias map + fuzzy]
    B --> C[Canonical IDs]
    A --> D[Hashing: char 3-grams]
    D --> E[Bi-Encoder]
    E --> F[Embeddings: L2-normalized]
    C --> G[Intrinsic Eval - F1, AUC, Purity, NMI]
    F --> G
    subgraph Federated Training
        S[Server] -- broadcast W --> K1[Client 1]
        S -- broadcast W --> K2[Client 2]
        K1 -->|Triplet updates| S
        K2 -->|Triplet updates| S
    end
